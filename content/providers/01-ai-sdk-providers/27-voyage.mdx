---
title: Voyage AI
description: Learn how to use the Voyage AI provider for the AI SDK.
---

# Voyage AI Provider

The [Voyage AI](https://www.voyageai.com/) provider contains embedding and reranking model support for the Voyage AI APIs.

## Setup

The Voyage AI provider is available in the `@ai-sdk/voyage` module. You can install it with

<Tabs items={['pnpm', 'npm', 'yarn', 'bun']}>
  <Tab>
    <Snippet text="pnpm add @ai-sdk/voyage" dark />
  </Tab>
  <Tab>
    <Snippet text="npm install @ai-sdk/voyage" dark />
  </Tab>
  <Tab>
    <Snippet text="yarn add @ai-sdk/voyage" dark />
  </Tab>
  <Tab>
    <Snippet text="bun add @ai-sdk/voyage" dark />
  </Tab>
</Tabs>

## Provider Instance

You can import the default provider instance `voyage` from `@ai-sdk/voyage`:

```ts
import { voyage } from '@ai-sdk/voyage';
```

If you need a customized setup, you can import `createVoyage` from `@ai-sdk/voyage`
and create a provider instance with your settings:

```ts
import { createVoyage } from '@ai-sdk/voyage';

const voyage = createVoyage({
  // custom settings
});
```

You can use the following optional settings to customize the Voyage AI provider instance:

- **baseURL** _string_

  Use a different URL prefix for API calls, e.g. to use proxy servers.
  The default prefix is `https://api.voyageai.com/v1`.

- **apiKey** _string_

  API key that is being sent using the `Authorization` header.
  It defaults to the `VOYAGE_API_KEY` environment variable.

- **headers** _Record&lt;string,string&gt;_

  Custom headers to include in the requests.

- **fetch** _(input: RequestInfo, init?: RequestInit) => Promise&lt;Response&gt;_

  Custom [fetch](https://developer.mozilla.org/en-US/docs/Web/API/fetch) implementation.
  Defaults to the global `fetch` function.
  You can use it as a middleware to intercept requests,
  or to provide a custom fetch implementation for e.g. testing.

## Embedding Models

You can create models that call the [Voyage AI embeddings API](https://docs.voyageai.com/docs/embeddings)
using the `.embedding()` factory method.

```ts
const model = voyage.embedding('voyage-3.5');
```

You can use Voyage AI embedding models to generate embeddings with the `embed` function:

```ts
import { voyage } from '@ai-sdk/voyage';
import { embed } from 'ai';

const { embedding } = await embed({
  model: voyage.embedding('voyage-3.5'),
  value: 'sunny day at the beach',
});
```

Voyage AI embedding models support additional provider options that can be passed via `providerOptions.voyage`:

```ts
import { voyage } from '@ai-sdk/voyage';
import { embed } from 'ai';

const { embedding } = await embed({
  model: voyage.embedding('voyage-3.5'),
  value: 'sunny day at the beach',
  providerOptions: {
    voyage: {
      inputType: 'document',
      outputDimension: 512,
    },
  },
});
```

The following provider options are available:

- **inputType** _'query' | 'document'_

  Specifies the type of input passed to the model.

  - `query`: The input is a search query. Voyage prepends a prompt optimized for retrieval.
  - `document`: The input is a document to be stored in a vector database. Voyage prepends a prompt optimized for retrieval.
  - If not specified, the embedding model directly converts the inputs into vectors.

  For retrieval/search use cases, it is recommended to use `query` or `document`.

- **outputDimension** _number_

  The number of dimensions for the resulting output embeddings.
  Supported values depend on the model (typically 256, 512, 1024, or 2048).
  If not specified, the model's default dimension is used.

- **outputDtype** _'float' | 'int8' | 'uint8' | 'binary' | 'ubinary'_

  The data type for the output embeddings. Default is `float`.

  - `float`: 32-bit floating-point numbers (default, supported by all models)
  - `int8`, `uint8`: 8-bit integer types (supported by newer models)
  - `binary`, `ubinary`: Bit-packed single-bit values (supported by newer models)

- **truncation** _boolean_

  Whether to truncate the input texts to fit within the model's context length.
  Default is `true`.

### Model Capabilities

| Model                   | Default Dimensions             | Context Length |
| ----------------------- | ------------------------------ | -------------- |
| `voyage-3.5`            | 1024 (default), 256, 512, 2048 | 32,000         |
| `voyage-3.5-lite`       | 1024 (default), 256, 512, 2048 | 32,000         |
| `voyage-3-large`        | 1024 (default), 256, 512, 2048 | 32,000         |
| `voyage-3`              | 1024                           | 32,000         |
| `voyage-3-lite`         | 512                            | 32,000         |
| `voyage-code-3`         | 1024 (default), 256, 512, 2048 | 32,000         |
| `voyage-finance-2`      | 1024                           | 32,000         |
| `voyage-multilingual-2` | 1024                           | 32,000         |
| `voyage-law-2`          | 1024                           | 32,000         |
| `voyage-code-2`         | 1024                           | 16,000         |

<Note>
  The table above lists popular models. Please see the [Voyage AI
  docs](https://docs.voyageai.com/docs/embeddings) for a full list of available
  models. You can also pass any available provider model ID as a string if
  needed.
</Note>

## Reranking Models

You can create models that call the [Voyage AI rerank API](https://docs.voyageai.com/docs/reranker)
using the `.reranking()` factory method.

```ts
const model = voyage.reranking('rerank-2.5');
```

You can use Voyage AI reranking models to rerank documents with the `rerank` function:

```ts
import { voyage } from '@ai-sdk/voyage';
import { rerank } from 'ai';

const documents = [
  'sunny day at the beach',
  'rainy afternoon in the city',
  'snowy night in the mountains',
];

const { ranking } = await rerank({
  model: voyage.reranking('rerank-2.5'),
  documents,
  query: 'talk about rain',
  topN: 2,
});

console.log(ranking);
// [
//   { originalIndex: 1, score: 0.87, document: 'rainy afternoon in the city' },
//   { originalIndex: 0, score: 0.12, document: 'sunny day at the beach' }
// ]
```

Voyage AI reranking models support additional provider options that can be passed via `providerOptions.voyage`:

```ts
import { voyage } from '@ai-sdk/voyage';
import { rerank } from 'ai';

const { ranking } = await rerank({
  model: voyage.reranking('rerank-2.5'),
  documents: ['sunny day at the beach', 'rainy afternoon in the city'],
  query: 'talk about rain',
  providerOptions: {
    voyage: {
      truncation: true,
    },
  },
});
```

The following provider options are available:

- **truncation** _boolean_

  Whether to truncate the input to satisfy the context length limit.
  If `true`, the input will be truncated to fit the context length limit.
  If `false`, an error will be raised if the input exceeds the context length limit.
  Default is `true`.

### Model Capabilities

| Model             | Context Length |
| ----------------- | -------------- |
| `rerank-2.5`      | 32,000 tokens  |
| `rerank-2.5-lite` | 32,000 tokens  |
| `rerank-2`        | 16,000 tokens  |
| `rerank-2-lite`   | 8,000 tokens   |
| `rerank-1`        | 8,000 tokens   |
| `rerank-lite-1`   | 4,000 tokens   |

<Note>
  The table above lists popular models. Please see the [Voyage AI
  docs](https://docs.voyageai.com/docs/reranker) for a full list of available
  models. You can also pass any available provider model ID as a string if
  needed.
</Note>
